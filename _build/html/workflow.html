

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Design Survey Workflow &mdash; aplc-optimization  documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/logo.jpg"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/stsci.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="_static/stsci.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Inputs Generation" href="modules/inputs_generation.html" />
    <link rel="prev" title="Using STScI Linux Servers" href="server.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          
            <a href="index.html" class="icon icon-home"> aplc-optimization
            
            <img src="_static/stsci_pri_combo_mark_white.png" class="logo" />
          </a>

          
            
            
          
          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
  
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installing.html">Requirements &amp; Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="server.html">Using STScI Linux Servers</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Design Survey Workflow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#create-a-launcher-script">Create a launcher script</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-the-launcher-script">Run the launcher script</a></li>
<li class="toctree-l2"><a class="reference internal" href="#inspect-the-products">Inspect the products</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#input-mask-files">Input mask files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#output-products">Output products</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">APLC-Optimization Package</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules/inputs_generation.html">Inputs Generation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">aplc-optimization</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Design Survey Workflow</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/workflow.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="design-survey-workflow">
<span id="workflow"></span><h1>Design Survey Workflow<a class="headerlink" href="#design-survey-workflow" title="Permalink to this headline">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Pardon our dust, this space is under construction.</p>
</div>
<p>Using the <cite>aplc-optimization</cite> toolkit, the workflow for a design survey proceeds as follows:</p>
<div class="section" id="create-a-launcher-script">
<h2>Create a launcher script<a class="headerlink" href="#create-a-launcher-script" title="Permalink to this headline">¶</a></h2>
<p>The <cite>aplc-optimization</cite> tooklkit uses <em>Launcher scripts</em> to define and execute design surveys.</p>
<p><em>Template</em> launcher scripts are provided for HiCAT, LUVOIR and GPI.</p>
<p>Make a copy of the appropriate launcher template and rename the copy with the following naming convention:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">do_</span><span class="o">&lt;</span><span class="n">instrument</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">survey</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">machine</span><span class="o">&gt;.</span><span class="n">py</span>
</pre></div>
</div>
<p>where &lt;instrument&gt; is the name of the instrument/ telescope for which you are apodizing; &lt;survey&gt; is the name
of the survey that you are running; and &lt;machine&gt; is the name of the machine that the survey will be run on. For example,
a launcher file named ‘<code class="docutils literal notranslate"><span class="pre">do_luvoir_BW10_small_telserv3.py</span></code>’ designates the BW10 small design run on telserv3 for a LUVOIR-type telescope.</p>
<p>Inside the launcher script define the design parameters to survey according to the template you have selected
- these include a list of telescope aperture specifications, tolerance constraints, focal plane mask size, Lyot stop dimensions,
and contrast and bandwidth goals. Any unspecified parameters are set to reasonable default values.</p>
</div>
<div class="section" id="run-the-launcher-script">
<h2>Run the launcher script<a class="headerlink" href="#run-the-launcher-script" title="Permalink to this headline">¶</a></h2>
<p>Run the launcher script using the following command in terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(aplc-optimization) $ python do_&lt;instrument&gt;_&lt;survey&gt;_&lt;machine&gt;.py
</pre></div>
</div>
<p>If all goes well, this should provide you with the following output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>This survey has # design parameter combinations.
# parameter are varied:

File organization:
{&#39;analysis_dir&#39;: &#39;../aplc-optimization/surveys/&lt;instrument&gt;_&lt;survey&gt;_&lt;machine&gt;/analysis&#39;,
 &#39;drivers_dir&#39;: &#39;../aplc-optimization/surveys/&lt;instrument&gt;_&lt;survey&gt;_&lt;machine&gt;/drivers&#39;,
 &#39;input_files_dir&#39;: &#39;../aplc-optimization/masks&#39;,
 &#39;log_dir&#39;: &#39;../aplc-optimization/surveys/&lt;instrument&gt;_&lt;survey&gt;_&lt;machine&gt;/logs&#39;,
 &#39;solution_dir&#39;: &#39;../aplc-optimization/surveys/&lt;instrument&gt;_&lt;survey&gt;_&lt;machine&gt;&#39;,
 &#39;survey_dir&#39;: &#39;../aplc-optimization/surveys/&lt;instrument&gt;_&lt;survey&gt;_&lt;machine&gt;&#39;}


All input files exist? False
All drivers exist? False
All solutions exist? False
</pre></div>
</div>
<p>where “File organization” indicates the location within which the survey results and intermediate products are stored; and the boolean provided after
“All Input Files exist?”, “All drivers exist?” and “All solutions exist” indicate whether the input mask files, drivers and solutions already exist, respectively.</p>
</div>
<div class="section" id="inspect-the-products">
<h2>Inspect the products<a class="headerlink" href="#inspect-the-products" title="Permalink to this headline">¶</a></h2>
<div class="section" id="input-mask-files">
<h3>Input mask files<a class="headerlink" href="#input-mask-files" title="Permalink to this headline">¶</a></h3>
<p>Once launched, the script first runs a “check” routine to verify whether the necessary static input files defining the
telescope aperture and lyot stop masks, according to the input file parameters set, are in place. If they do not, the program will call the
corresponding input file generation script.</p>
</div>
<div class="section" id="output-products">
<h3>Output products<a class="headerlink" href="#output-products" title="Permalink to this headline">¶</a></h3>
<p>Once the survey is executed, the following output products are written to disk: a re-usable python driver script storing
the parameters and file organization defined in the launcher script and in turn calls the optimizer (stored in <cite>drivers_dir</cite>); an automatically produced file that contains a record of events
while the optimizer runs (stored in <cite>log_dir</cite>); the optimized apodizer solution (stored in <cite>solution_dir</cite>); and a PDF of the analysis products (in <cite>analysis_dir</cite>).</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modules/inputs_generation.html" class="btn btn-neutral float-right" title="Inputs Generation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="server.html" class="btn btn-neutral float-left" title="Using STScI Linux Servers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Bryony Nickson

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>