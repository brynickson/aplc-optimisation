

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using STScI Linux Servers &mdash; aplc-optimization 04/14/2020 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/logo.jpg"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> aplc-optimization
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installing.html">Requirements &amp; Installation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">aplc-optimization</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Using STScI Linux Servers</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/server.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-stsci-linux-servers">
<h1>Using STScI Linux Servers<a class="headerlink" href="#using-stsci-linux-servers" title="Permalink to this headline">¶</a></h1>
<p>Due to the wide parameter space open to the SCDA study, apodizer optimization jobs are often computationally expensive, with some high-resolution design cases requiring
several days to complete. In order to scale up the feasible volume of optimization trails, we utilize back room Linux compute servers at STScI.
There are three shared Telescope servers that can be used for the purpose of coronagraph design work: telserv1, telserv2 and telserv3.
They are physical machines, not virtual machines, and run the Linux operating system.</p>
<p>The Linux virtual workstations can be accessed from any STScI Macintosh or Windows system, on-site or through VPN and
are available to anyone with an Active Directory account. Information on the Telescopes shared computers can be found in
the following STScI <a class="reference external" href="https://innerspace.stsci.edu/display/INSTEL/Telescopes+Shared+Computers">Innerspace page</a>.</p>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<div class="section" id="verifying-network-mounts">
<h3>Verifying network mounts<a class="headerlink" href="#verifying-network-mounts" title="Permalink to this headline">¶</a></h3>
<p>In order to access both Central Storage, and the Linux servers, you must be on the STScI internal network
(either physically or wirelessly connected, or via VPN). Before proceeding, it may be useful to verify your
network mounts.</p>
<p>Open a terminal terminal and check that you can list the contents of the <code class="docutils literal notranslate"><span class="pre">/user</span></code> directory as shown:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ls /user
</pre></div>
</div>
<p>If instead, you see something like this…:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ls /user
ls: /user: No such file or directory
</pre></div>
</div>
<p>… then you will need to talk to ITSD.</p>
</div>
<div class="section" id="logging-into-a-server">
<span id="login"></span><h3>Logging into a server<a class="headerlink" href="#logging-into-a-server" title="Permalink to this headline">¶</a></h3>
<p>The command to remotely connect to a given server is <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">&lt;SERVERNAME&gt;</span></code> (where <code class="docutils literal notranslate"><span class="pre">&lt;SERVERNAME&gt;</span></code> is the server hostname,
e.g. <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">telserv3</span></code>). To enable X forwarding, you can use the <code class="docutils literal notranslate"><span class="pre">-XY</span></code> option (e.g. <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">-XY</span> <span class="pre">science1</span></code>). This allows
for displays that use X (Linux’s default backend) to be forwarded to your monitor.</p>
<p>Go ahead and verify that you are able to log in to the TELSERV3 server, as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ssh telserv3
</pre></div>
</div>
<p>By default, the STScI servers run on <code class="docutils literal notranslate"><span class="pre">tsch</span></code> (not <code class="docutils literal notranslate"><span class="pre">bash</span></code>) when you log in. To switch to a <code class="docutils literal notranslate"><span class="pre">bash</span></code> shell use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ bash
</pre></div>
</div>
</div>
<div class="section" id="software-installation">
<h3>Software Installation<a class="headerlink" href="#software-installation" title="Permalink to this headline">¶</a></h3>
<div class="section" id="storage">
<span id="id1"></span><h4>Storage<a class="headerlink" href="#storage" title="Permalink to this headline">¶</a></h4>
<p>When logged into a server (see <a class="reference internal" href="#login"><span class="std std-ref">below</span></a>), any commands run in that SSH session will be executed on the server, not on your personal machine.
Thus, files and directories on your local machine will not be accessible when running the servers. Instead, all of the
servers have access to network-mounted home directories (i.e. <code class="docutils literal notranslate"><span class="pre">/home/&lt;username&gt;</span></code>) and access to the <code class="docutils literal notranslate"><span class="pre">/user</span></code> space
on Central Store.</p>
<div class="section" id="home-directories">
<h5>Home directories<a class="headerlink" href="#home-directories" title="Permalink to this headline">¶</a></h5>
<p>Each user has a home directory (<code class="docutils literal notranslate"><span class="pre">/home/&lt;username&gt;</span></code>) that is mounted on each of the Linux machines. This home directory
is mounted and shared among all the machines, so that any file in that directory will be available on each machine.
However, space in this directory is limited (each user has a 10 GB quota) and installing software in the home directory
is usually discouraged.</p>
</div>
<div class="section" id="user-space">
<h5><code class="docutils literal notranslate"><span class="pre">/user</span></code> space<a class="headerlink" href="#user-space" title="Permalink to this headline">¶</a></h5>
<p>A user’s Central Storage space is a better choice than the home directory for user-installed software,
as it has considerably more space (at least 850 GB). This directory is shared and mounted on each of the linux machines,
and can also be mounted on the user’s individual computer (when connected to the STScI internal network). This allows for
a convenient way to share and move files among/between the Linux machines and the user’s individual machine.</p>
<p>On the servers, this space is available under the path <code class="docutils literal notranslate"><span class="pre">/user/&lt;username&gt;</span></code>. For Mac users, this directory is
auto-mounted at the same location (i.e. <code class="docutils literal notranslate"><span class="pre">/user/&lt;username&gt;</span></code>). On windows machines, the directory is not auto-mounted,
but is still available at the path <code class="docutils literal notranslate"><span class="pre">\\cs10d\user</span></code>. When installing in this location, it is important to remain aware
of the differences in the operating system among the machines.</p>
<p>Within a SSH session (see <a class="reference internal" href="#login"><span class="std std-ref">Logging into a server</span></a>), verify that you can access your Central Storage directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ls /user/myname
</pre></div>
</div>
</div>
</div>
<div class="section" id="installing-conda">
<h4>Installing Conda<a class="headerlink" href="#installing-conda" title="Permalink to this headline">¶</a></h4>
<p>It is recommended that the <code class="docutils literal notranslate"><span class="pre">aplc-optimization</span></code> package be installed using Conda (see <span class="xref std std-ref">installing</span>).
As mentioned <a class="reference internal" href="#storage"><span class="std std-ref">above</span></a>, files and directories on your personal machine cannot be seen by the servers. Therefore,
while you may have Conda installed locally, it won’t be accessible to programs run on the one of the servers. Furthermore, the servers
run Linux, and will require a <em>Linux</em> compatable version of Miniconda/ Anaconda.</p>
<p>To use Conda for our computing needs, we will need to install Conda onto to one of the Linux servers—fortunately, we need
only go through the process on <em>one</em> server to make conda available on <em>all</em> servers. Because of the storage limitations
of Linux home diretory (see above), we will recommend installing conda to your Central Store directory instead.</p>
<p>First ssh into one of the servers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ssh telserv3
telserv3&gt;
</pre></div>
</div>
<p>Start a <code class="docutils literal notranslate"><span class="pre">bash</span></code> shell:</p>
<blockquote>
<div><p>telserv3&gt; bash
bash$</p>
</div></blockquote>
<p>Change directories to your Central Store directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>bash$ cd &quot;/user/$(logname)&quot;
</pre></div>
</div>
<p>the version of Conda installed locally to your personal machine</p>
<p>on the servers,
and so the version of Conda installed to your local machine will not be accessible to programs running on one of the servers.</p>
<p>While you may have Conda installed on your machine, that verion is installed to your local disk, so won’t be accessable</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Association of Universities for Research in Astronomy.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>